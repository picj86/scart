<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
	  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title layout:title-pattern="$DECORATOR_TITLE - $CONTENT_TITLE">JCart Admin</title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"/>
    <!-- Admin LTE -->
    <!-- Bootstrap 3.3.6 -->
	<link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css" th:href="@{/assets/bootstrap/css/bootstrap.min.css}" />
	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css}" />
	<!-- Ionicons -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css}" />
	<!-- DataTables -->
  	<link rel="stylesheet" th:href="@{/assets/plugins/datatables/dataTables.bootstrap.css}" />
  	<!-- Bootstrap Dialog -->
  	<link rel="stylesheet" href="assets/dist/css/bootstrap-dialog.css" th:href="@{/assets/dist/css/bootstrap-dialog.css}" />
	
	<!-- Theme style -->
	<link rel="stylesheet" href="assets/dist/css/AdminLTE.min.css" th:href="@{/assets/dist/css/AdminLTE.min.css}" />
	<!-- AdminLTE Skins. Choose a skin from the css/skins
       folder instead of downloading all of them to reduce the load. -->
	<link rel="stylesheet" href="assets/dist/css/skins/_all-skins.min.css" th:href="@{/assets/dist/css/skins/_all-skins.min.css}" />

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    <link rel="stylesheet" href="assets/dist/css/amazon.css" th:href="@{/assets/dist/css/amazon.css}" />
  </head>
  
  <body class="hold-transition skin-blue sidebar-mini">
    <div class="wrapper">

      <!-- Main Header -->
      <header class="main-header">

        <!-- Logo -->
        <a href="#" th:href="@{/home}" class="logo">
          <!-- mini logo for sidebar mini 50x50 pixels -->
          <span class="logo-mini"><b>SC</b></span>
          <!-- logo for regular state and mobile devices -->
          <span class="logo-lg"><b>SCart Admin</b></span>
        </a>

        <!-- Header Navbar -->
        <nav class="navbar navbar-static-top" role="navigation">
          <!-- Sidebar toggle button-->
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
          <!-- Navbar Right Menu -->
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">
              <!-- Notifications: style can be found in dropdown.less -->
			  <li class="dropdown notifications-menu">
			            	<a href="#" class="dropdown-toggle" data-toggle="dropdown">
			              	<i class="fa fa-bell-o"></i>
			              	<span class="label label-warning">2</span>
			            	</a>
			  </li>
			  <!-- end Notifications item -->
			  
              <!-- User Account Menu -->
              <li class="dropdown user user-menu">
                <!-- Menu Toggle Button -->
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <!-- The user image in the navbar-->
                  <img th:src="@{/assets/dist/img/user2-160x160.jpg}" class="user-image" alt="User Image"/>
                  <!-- hidden-xs hides the username on small devices so only the image appears. -->
                  <span class="hidden-xs" sec:authentication="principal.user.name">User</span>
                </a>
                
                <ul class="dropdown-menu">
                  <!-- The user image in the menu -->
                  <li class="user-header">
                    <img th:src="@{/assets/dist/img/user2-160x160.jpg}" class="img-circle" alt="User Image"/>
                    <p>
                      <span sec:authentication="principal.user.name">User</span>
                    </p>
                  </li>
                  <!-- Menu Body -->
				  <li class="user-body">
				  	<div class="row">
				    	<div class="col-xs-4 text-center">
				        	<a href="#">Followers</a>
				        </div>
				        <div class="col-xs-4 text-center">
				        	<a href="#">Sales</a>
				        </div>
				        <div class="col-xs-4 text-center">
				        	<a href="#">Friends</a>
				        </div>
				    </div>
				    <!-- /.row -->
				  </li>
				      
                  <!-- Menu Footer-->
                  <li class="user-footer">
                    <div class="pull-left">
                      <a href="#" th:href="@{/myAccount}" class="btn btn-default btn-flat">Profile</a>
                    </div>
                    <div class="pull-right">
                      <a href="logout" th:href="@{/logout}" class="btn btn-default btn-flat">Sign out</a>
                    </div>
                  </li>
                </ul>
              </li>
              
            </ul>
          </div>
        </nav>
      </header>
      <!-- Left side column. contains the logo and sidebar -->
      <aside class="main-sidebar">

        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">

          <!-- Sidebar user panel (optional) -->
          <div class="user-panel">
            <div class="pull-left image">
              <img th:src="@{/assets/dist/img/user2-160x160.jpg}" class="img-circle" alt="User Image"/>
            </div>
            <div class="pull-left info">
              <p><span sec:authentication="principal.user.name">User</span></p>
              <!-- Status -->
              <a href="#"><i class="fa fa-circle text-success"></i> Online</a>
            </div>
          </div>
          <!-- search form -->
		      	<form action="#" method="get" class="sidebar-form">
			        <div class="input-group">
			          <input type="text" name="q" class="form-control" placeholder="Search..." />
			              <span class="input-group-btn">
			                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search" />
			                </button>
			              </span>
			        </div>
		      	</form>
		  <!-- search form end -->

          <!-- Sidebar Menu -->
          <ul class="sidebar-menu">
            <!-- <li class="header">HEADER</li> -->
            <!-- Optionally, you can add icons to the links -->
            <li th:class="${CURRENT_MENU == 'Home'}? 'active' : ''" ><a href="#" th:href="@{'/home'}"><i class="fa fa-home"></i> <span>Home</span></a></li>
            
            <li th:class="${CURRENT_MENU == 'Movies'}? 'active' : ''" ><a href="#" th:href="@{'/movies'}"><i class="fa fa-file-movie-o"></i> <span>Movies</span></a></li>
            
            <li class="treeview">
	          <a href="#">
	            <i class="fa  fa-amazon"></i><span>Amazon</span>
	            <span class="pull-right-container">
	              <i class="fa fa-angle-left pull-left"></i>
	            </span>
	          </a>
	          <ul class="treeview-menu menu-open" style="display: none;">
	            
	            <li><a th:href="@{/amazon/importproducts}"><i class="fa fa-amazon"></i> Import Products</a></li>
	            <li><a th:href="@{/amazon/importbooks}"><i class="fa fa-amazon"></i> Import Books</a></li>
	            <li><a th:href="@{/amazon/synchronize}"><i class="fa fa-amazon"></i> Synchronised</a></li>
	            <li><a th:href="@{/amazon/update}"><i class="fa fa-amazon"></i> Update Products</a></li>
	            <li><a th:href="@{/amazon/importsettings}"><i class="fa fa-amazon"></i> Settings</a></li>
	          </ul>
	        </li>
	        <li th:class="${CURRENT_MENU == 'Flipkart'}? 'treeview active' : ''" >
	          <a href="#">
	            <i class="fa fa-shopping-cart"></i><span>Flipkart</span>
	            <span class="pull-right-container">
	              <i class="fa fa-angle-left pull-right"></i>
	            </span>
	          </a>
	          <ul class="treeview-menu menu-open" style="display: block;">
	            
	            <li><a th:href="@{/flipkart/importproducts}"><i class="fa fa-shopping-cart"></i> Import Products</a></li>
	            <li><a th:href="@{/flipkart/synchronize}"><i class="fa fa-shopping-cart"></i> Synchronised</a></li>
	            <li><a th:href="@{/flipkart/update}"><i class="fa fa-shopping-cart"></i> Update Products</a></li>
	            <li><a th:href="@{/flipkart/importsettings}"><i class="fa fa-shopping-cart"></i> Settings</a></li>
	          </ul>
	        </li>
        
            
            <li th:class="${CURRENT_MENU == 'Categories'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_CATEGORIES')"><a href="#" th:href="@{'/categories'}"><i class="fa fa-folder-open"></i> <span>Categories</span></a></li>
            <li th:class="${CURRENT_MENU == 'Products'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_PRODUCTS')"><a href="#" th:href="@{'/products'}"><i class="fa fa-file"></i> <span>Products</span></a></li>
            <li th:class="${CURRENT_MENU == 'Orders'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_ORDERS')"><a href="#" th:href="@{'/orders'}"><i class="fa fa-cart-arrow-down"></i> <span>Orders</span></a></li>
            <li th:class="${CURRENT_MENU == 'Customers'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_CUSTOMERS')"><a href="#" th:href="@{'/customers'}"><i class="fa fa-smile-o"></i> <span>Customers</span></a></li>
            <li th:class="${CURRENT_MENU == 'Users'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_USERS')"><a href="#" th:href="@{'/users'}"><i class="fa fa-users"></i> <span>Users</span></a></li>
            <li th:class="${CURRENT_MENU == 'Roles'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_ROLES')"><a href="#" th:href="@{'/roles'}"><i class="fa fa-user"></i> <span>Roles</span></a></li>
            <li th:class="${CURRENT_MENU == 'Permissions'}? 'active' : ''"  sec:authorize="hasRole('ROLE_MANAGE_PERMISSIONS')"><a href="#" th:href="@{'/permissions'}"><i class="fa fa-shield"></i> <span>Permissions</span></a></li>
            
          </ul><!-- /.sidebar-menu -->
        </section>
        <!-- /.sidebar -->
      </aside>

      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <div layout:fragment="pageHeader">
        	<section class="content-header">
	        	<h1 th:text="${headerTitle}">
	            	Manage Roles
	          	</h1>
	          	<div th:if="${info}" class="col-md-3 alert alert-info alert-dismissable" >
	          		<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		        	<p><i class="icon fa fa-info"></i> <span th:text="${info}">Info</span></p>
		        </div>
                  
		        <div th:if="${error}" class="col-md-3 alert alert-danger alert-dismissable" >
		        	<button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
		        	<p><i class="icon fa fa-ban"></i> <span th:text="${error}">Error</span></p>
		        </div>
	        </section>
        </div>

        <!-- Main content -->
        <section class="content">
          <div layout:fragment="content">
	          <!-- Your Page Content Here -->
	          
		  </div>

        </section><!-- /.content -->
      </div><!-- /.content-wrapper -->

      <!-- Main Footer -->
      <footer class="main-footer">
        <!-- To the right -->
        <div class="pull-right hidden-xs">
          <strong><a href="#" target="_blank"></a>Author: PJ</strong>
        </div>
        <!-- Default to the left -->
        <strong>Copyright &copy; 2017 <a href="#">PJ Labs</a></strong>. All rights reserved.
      </footer>

      
    </div><!-- ./wrapper -->

	
	
	
    <!-- REQUIRED JS SCRIPTS -->
    <script th:src="@{'/assets/plugins/jQuery/jQuery-2.2.3.min.js'}"></script>
    <script th:src="@{'/assets/plugins/jQueryUI/jQuery-ui.min.js'}"></script>
    <script th:src="@{'/assets/bootstrap/js/bootstrap.min.js'}"></script>
    
    <!-- DataTables -->
	<script th:src="@{/assets/plugins/datatables/jquery.dataTables.min.js}"></script>
	<script th:src="@{/assets/plugins/datatables/dataTables.bootstrap.min.js}"></script>
	<!-- Bootstrap Dialog -->
	<script th:src="@{'/assets/dist/js/bootstrap-dialog.js'}"></script>
    <script th:src="@{'/assets/dist/js/app.min.js'}"></script>
     <script th:src="@{'/assets/dist/js/amazon.js'}"></script>
    
    <script>
	  $(function () {
	    $('#cat').DataTable({
	      "paging": true,
	      "lengthChange": false,
	      "searching": false,
	      "ordering": true,
	      "info": true,
	      "autoWidth": false
	    });
	  });
	  
	  function showAmazonDialog(){
			BootstrapDialog.show({
				type: BootstrapDialog.TYPE_WARNING,
				title: "Search and Load Products...",
				draggable: true,
				buttons: [{
					label:'Close',
					cssClass:'btn-info',
					action: function(dialogItself){
						
						dialogIteself.close();
					}
				}]
			
			});
			
			
		}
	  
	  /* $(document).ready(function(){
		  $.ajax({
				type: "GET",
				url: "amazoncategories_in.xml",
				dataType: "xml",
				  success: function(xml) {
					var select = $('#BrowseNodeSelectBox');
					select.append('<option value="">Select a Root Category</option>');				
					$(xml).find('category').each(function(){											
					var value = $(this).find('value').text();
					var title = $(this).find('title').text();
					select.append("<option value='"+ value +"'>"+title+"</option>");
				  });
				}
			});
	  }); */
	  
	 /*  var wpAmazonImportPopupParams = {};
	  // Get the modal
	  var modal = document.getElementById('amazon-popup-window');
	  
	// Get the button that opens the modal
	  var btn = document.getElementById("opener");

	  // Get the <span /> element that closes the modal
	  var span = document.getElementsByClassName("close")[0];

	  // When the user clicks on the button, open the modal 
	  btn.onclick = function() {
	      modal.style.display = "block";
	  }

	  // When the user clicks on <span /> (x), close the modal
	  span.onclick = function() {
	      modal.style.display = "none";
	  }

	  // When the user clicks anywhere outside of the modal, close it
	  window.onclick = function(event) {
	      if (event.target == modal) {
	          modal.style.display = "none";
	      }
	  }
	  
	  function SearchParamsFormSubmit() {
		  
		  wpAmazonImportPopupParams.url = '#';
		  wpAmazonImportPopupParams.title = 'Search &amp; Load Products';
	      wpAmazonImportPopupParams.startText = 'Processing...';
	      wpAmazonImportPopupParams.hideStopButton = false;
	      wpAmazonImportPopupParams.data.startProcess = 1;
	      wpOpenImportAmazonPopup();  
	  }
	  function wpOpenImportAmazonPopup()
	    {
	        $('amazon-popup-process-message').update(wpAmazonImportPopupParams.startText);
	        $('amazon-popup-process-title').update(wpAmazonImportPopupParams.title);
		
	        modal.style.display = "block";
	        
	        
	        if (wpAmazonImportPopupParams.hideStopButton)
	            Element.hide('amazon-popup-process-stop-button');
	        else
	            Element.show('amazon-popup-process-stop-button');

	        var height = $('html-body').getHeight();
	        $('amazon-popup-window-mask').setStyle({'height':height+'px'});
	        toggleSelectsUnderBlock($('amazon-popup-window-mask'), false);
	        Element.show('amazon-popup-window-mask');
	        var popup = $('amazon-popup-window');
	       // var top = getClientHeight() / 2 - 100;
	       	var top = 768 /2 -100;
	        popup.setStyle({'top': top + 'px'});

	        wpAmazonImportPopupParams.stop = false;
	        wpAmazonImportPopupParams.next = true;

	    } */
	  
	  /* function getClientHeight()
	    {
	        return this.filterResults (
	            window.innerHeight ? window.innerHeight : 0,
	            document.documentElement ? document.documentElement.clientHeight : 0,
	            document.body ? document.body.clientHeight : 0
	        );
	    }

	    function filterResults(n_win, n_docel, n_body)
	    {
	        var n_result = n_win ? n_win : 0;
	        if (n_docel &amp;&amp; (!n_result || (n_result > n_docel)))
	            n_result = n_docel;
	        return n_body &amp;&amp; (!n_result || (n_result > n_body)) ? n_body : n_result;
	    } */
	  
	</script>
	<th:block layout:fragment="scripts"></th:block>
  </body>
</html>
